# Cloudflare Workers Configuration - License API
# Deploy with: wrangler deploy --config wrangler-license.toml

name = "wh404-license-api"
main = "src/license-d1.js"
compatibility_date = "2024-12-01"

# D1 Database (License Storage - Better than KV)
[[d1_databases]]
binding = "DB"
database_name = "word-hacker-licenses"
database_id = "45917a9a-a2c5-4676-89bb-9bb245465bb7"

# Environment Variables (Secrets)
[vars]
ADMIN_SECRET = "YOUR_ADMIN_SECRET_HERE"  # Replace with secure random string
STRIPE_WEBHOOK_SECRET = "YOUR_STRIPE_SECRET_HERE"  # Replace with Stripe webhook secret

# Usage Limits (Free tier protection)
[usage_model]
model = "bundled"

# Routes (Custom domain - optional)
# [[routes]]
# pattern = "api.wordhacker404.me/*"
# zone_name = "wordhacker404.me"
