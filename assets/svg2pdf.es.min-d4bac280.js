import{g as Nt}from"./vendor-e72fc605.js";import{E as ie,O as It,M as Fe,q as Ae}from"./jspdf.es.min-82389a91.js";import"./index-b7044f2a.js";import"./utils-e8ee15a8.js";/*! https://mths.be/cssesc v3.0.0 by @mathias */var Te={},Pe=Te.hasOwnProperty,Ee=function(i,t){if(!i)return t;var r={};for(var n in t)r[n]=Pe.call(i,n)?i[n]:t[n];return r},Be=/[ -,\.\/:-@\[-\^`\{-~]/,Ne=/[ -,\.\/:-@\[\]\^`\{-~]/,Ie=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Lt=function e(i,t){t=Ee(t,e.options),t.quotes!="single"&&t.quotes!="double"&&(t.quotes="single");for(var r=t.quotes=="double"?'"':"'",n=t.isIdentifier,s=i.charAt(0),a="",o=0,l=i.length;o<l;){var f=i.charAt(o++),u=f.charCodeAt(),h=void 0;if(u<32||u>126){if(u>=55296&&u<=56319&&o<l){var c=i.charCodeAt(o++);(c&64512)==56320?u=((u&1023)<<10)+(c&1023)+65536:o--}h="\\"+u.toString(16).toUpperCase()+" "}else t.escapeEverything?Be.test(f)?h="\\"+f:h="\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(f)?h="\\"+u.toString(16).toUpperCase()+" ":f=="\\"||!n&&(f=='"'&&r==f||f=="'"&&r==f)||n&&Ne.test(f)?h="\\"+f:h=f;a+=h}return n&&(/^-[-\d]/.test(a)?a="\\-"+a.slice(1):/\d/.test(s)&&(a="\\3"+s+" "+a.slice(1))),a=a.replace(Ie,function(v,g,d){return g&&g.length%2?v:(g||"")+d}),!n&&t.wrap?r+a+r:a};Lt.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};Lt.version="3.0.0";var Le=Lt;const ne=Nt(Le);var it=0,kt=1,Wt=2,dt=3,jt=4,Gt=5,Ut=6,Mt=/[a-z0-9_-]/i,gt=/[\s\t]/,_e=function(e){for(var i=!0,t=it,r="",n=0,s,a,o=[];;){if(a=e[n],t===it){if(!a&&i)break;if(!a&&!i)throw new Error("Parse error");if(a==='"'||a==="'")s=a,t=kt,i=!1;else if(!gt.test(a))if(Mt.test(a))t=dt,i=!1,n--;else throw new Error("Parse error")}else if(t===kt)if(a)a==="\\"?t=Wt:a===s?(o.push(r),r="",t=jt):r+=a;else throw new Error("Parse Error");else if(t===Wt)if(a===s||a==="\\")r+=a,t=kt;else throw new Error("Parse error");else if(t===dt)if(a)Mt.test(a)?r+=a:a===","?(o.push(r),r="",t=it):gt.test(a)?t=Gt:a==="\\"&&(t=Ut);else{o.push(r);break}else if(t===Ut){if(/[0-9a-f]/i.test(a))throw new Error("Parse error");r+=a,t=dt}else if(t===Gt)if(a){if(Mt.test(a))r+=" "+a,t=dt;else if(a===",")o.push(r),r="",t=it;else if(!gt.test(a))throw new Error("Parse error")}else{o.push(r);break}else if(t===jt)if(a){if(a===",")t=it;else if(!gt.test(a))throw new Error("Parse error")}else break;n++}return o},Re=/[^a-z0-9_-]/i,Oe=function(e,i){var t=i&&i.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Quote must be `'` or `\"`");for(var r=new RegExp(t,"g"),n=[],s=0;s<e.length;++s){var a=e[s];Re.test(a)&&(a=a.replace(/\\/g,"\\\\").replace(r,"\\"+t),a=t+a+t),n.push(a)}return n.join(", ")},De={parse:_e,stringify:Oe};const qe=Nt(De);var mt={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},He=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function Ve(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&He.indexOf(e)>=0}function We(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function je(e){return(e|32)===97}function J(e){return e>=48&&e<=57}function Ge(e){return e>=48&&e<=57||e===43||e===45||e===46}function Ue(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function yt(e){for(;e.index<e.max&&Ve(e.path.charCodeAt(e.index));)e.index++}function ze(e){var i=e.path.charCodeAt(e.index);if(i===48){e.param=0,e.index++;return}if(i===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function Ye(e){var i=e.index,t=i,r=e.max,n=!1,s=!1,a=!1,o=!1,l;if(t>=r){e.err="SvgPath: missed param (at pos "+t+")";return}if(l=e.path.charCodeAt(t),(l===43||l===45)&&(t++,l=t<r?e.path.charCodeAt(t):0),!J(l)&&l!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+t+")";return}if(l!==46){if(n=l===48,t++,l=t<r?e.path.charCodeAt(t):0,n&&t<r&&l&&J(l)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+i+")";return}for(;t<r&&J(e.path.charCodeAt(t));)t++,s=!0;l=t<r?e.path.charCodeAt(t):0}if(l===46){for(o=!0,t++;J(e.path.charCodeAt(t));)t++,a=!0;l=t<r?e.path.charCodeAt(t):0}if(l===101||l===69){if(o&&!s&&!a){e.err="SvgPath: invalid float exponent (at pos "+t+")";return}if(t++,l=t<r?e.path.charCodeAt(t):0,(l===43||l===45)&&t++,t<r&&J(e.path.charCodeAt(t)))for(;t<r&&J(e.path.charCodeAt(t));)t++;else{e.err="SvgPath: invalid float exponent (at pos "+t+")";return}}e.index=t,e.param=parseFloat(e.path.slice(i,t))+0}function Ct(e){var i,t;i=e.path[e.segmentStart],t=i.toLowerCase();var r=e.data;if(t==="m"&&r.length>2&&(e.result.push([i,r[0],r[1]]),r=r.slice(2),t="l",i=i==="m"?"l":"L"),t==="r")e.result.push([i].concat(r));else for(;r.length>=mt[t]&&(e.result.push([i].concat(r.splice(0,mt[t]))),!!mt[t]););}function Xe(e){var i=e.max,t,r,n,s,a;if(e.segmentStart=e.index,t=e.path.charCodeAt(e.index),r=je(t),!We(t)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(s=mt[e.path[e.index].toLowerCase()],e.index++,yt(e),e.data=[],!s){Ct(e);return}for(n=!1;;){for(a=s;a>0;a--){if(r&&(a===3||a===4)?ze(e):Ye(e),e.err.length){Ct(e);return}e.data.push(e.param),yt(e),n=!1,e.index<i&&e.path.charCodeAt(e.index)===44&&(e.index++,yt(e),n=!0)}if(!n&&(e.index>=e.max||!Ge(e.path.charCodeAt(e.index))))break}Ct(e)}var $e=function(i){var t=new Ue(i),r=t.max;for(yt(t);t.index<r&&!t.err.length;)Xe(t);return t.result.length&&("mM".indexOf(t.result[0][0])<0?(t.err="SvgPath: string should start with `M` or `m`",t.result=[]):t.result[0][0]="M"),{err:t.err,segments:t.result}};function Qe(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}function D(){if(!(this instanceof D))return new D;this.queue=[],this.cache=null}D.prototype.matrix=function(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0?this:(this.cache=null,this.queue.push(e),this)};D.prototype.translate=function(e,i){return(e!==0||i!==0)&&(this.cache=null,this.queue.push([1,0,0,1,e,i])),this};D.prototype.scale=function(e,i){return(e!==1||i!==1)&&(this.cache=null,this.queue.push([e,0,0,i,0,0])),this};D.prototype.rotate=function(e,i,t){var r,n,s;return e!==0&&(this.translate(i,t),r=e*Math.PI/180,n=Math.cos(r),s=Math.sin(r),this.queue.push([n,s,-s,n,0,0]),this.cache=null,this.translate(-i,-t)),this};D.prototype.skewX=function(e){return e!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this};D.prototype.skewY=function(e){return e!==0&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this};D.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=Qe(this.cache,this.queue[e]);return this.cache};D.prototype.calc=function(e,i,t){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+i*r[2]+(t?0:r[4]),e*r[1]+i*r[3]+(t?0:r[5])]):[e,i]};var ae=D,Ke=ae,Je={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},Ze=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,tr=/[\s,]+/,er=function(i){var t=new Ke,r,n;return i.split(Ze).forEach(function(s){if(s.length){if(typeof Je[s]<"u"){r=s;return}switch(n=s.split(tr).map(function(a){return+a||0}),r){case"matrix":n.length===6&&t.matrix(n);return;case"scale":n.length===1?t.scale(n[0],n[0]):n.length===2&&t.scale(n[0],n[1]);return;case"rotate":n.length===1?t.rotate(n[0],0,0):n.length===3&&t.rotate(n[0],n[1],n[2]);return;case"translate":n.length===1?t.translate(n[0],0):n.length===2&&t.translate(n[0],n[1]);return;case"skewX":n.length===1&&t.skewX(n[0]);return;case"skewY":n.length===1&&t.skewY(n[0]);return}}}),t},at=Math.PI*2;function zt(e,i,t,r){var n=e*r-i*t<0?-1:1,s=e*t+i*r;return s>1&&(s=1),s<-1&&(s=-1),n*Math.acos(s)}function rr(e,i,t,r,n,s,a,o,l,f){var u=f*(e-t)/2+l*(i-r)/2,h=-l*(e-t)/2+f*(i-r)/2,c=a*a,v=o*o,g=u*u,d=h*h,y=c*v-c*d-v*g;y<0&&(y=0),y/=c*d+v*g,y=Math.sqrt(y)*(n===s?-1:1);var m=y*a/o*h,x=y*-o/a*u,S=f*m-l*x+(e+t)/2,k=l*m+f*x+(i+r)/2,b=(u-m)/a,w=(h-x)/o,T=(-u-m)/a,I=(-h-x)/o,L=zt(1,0,b,w),B=zt(b,w,T,I);return s===0&&B>0&&(B-=at),s===1&&B<0&&(B+=at),[S,k,L,B]}function ir(e,i){var t=1.3333333333333333*Math.tan(i/4),r=Math.cos(e),n=Math.sin(e),s=Math.cos(e+i),a=Math.sin(e+i);return[r,n,r-n*t,n+r*t,s+a*t,a-s*t,s,a]}var nr=function(i,t,r,n,s,a,o,l,f){var u=Math.sin(f*at/360),h=Math.cos(f*at/360),c=h*(i-r)/2+u*(t-n)/2,v=-u*(i-r)/2+h*(t-n)/2;if(c===0&&v===0)return[];if(o===0||l===0)return[];o=Math.abs(o),l=Math.abs(l);var g=c*c/(o*o)+v*v/(l*l);g>1&&(o*=Math.sqrt(g),l*=Math.sqrt(g));var d=rr(i,t,r,n,s,a,o,l,u,h),y=[],m=d[2],x=d[3],S=Math.max(Math.ceil(Math.abs(x)/(at/4)),1);x/=S;for(var k=0;k<S;k++)y.push(ir(m,x)),m+=x;return y.map(function(b){for(var w=0;w<b.length;w+=2){var T=b[w+0],I=b[w+1];T*=o,I*=l;var L=h*T-u*I,B=u*T+h*I;b[w+0]=L+d[0],b[w+1]=B+d[1]}return b})},st=1e-10,Yt=Math.PI/180;function ot(e,i,t){if(!(this instanceof ot))return new ot(e,i,t);this.rx=e,this.ry=i,this.ax=t}ot.prototype.transform=function(e){var i=Math.cos(this.ax*Yt),t=Math.sin(this.ax*Yt),r=[this.rx*(e[0]*i+e[2]*t),this.rx*(e[1]*i+e[3]*t),this.ry*(-e[0]*t+e[2]*i),this.ry*(-e[1]*t+e[3]*i)],n=r[0]*r[0]+r[2]*r[2],s=r[1]*r[1]+r[3]*r[3],a=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),o=(n+s)/2;if(a<st*o)return this.rx=this.ry=Math.sqrt(o),this.ax=0,this;var l=r[0]*r[1]+r[2]*r[3];a=Math.sqrt(a);var f=o+a/2,u=o-a/2;return this.ax=Math.abs(l)<st&&Math.abs(f-s)<st?90:Math.atan(Math.abs(l)>Math.abs(f-s)?(f-n)/l:l/(f-s))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(f),this.ry=Math.sqrt(u)):(this.ax+=90,this.rx=Math.sqrt(u),this.ry=Math.sqrt(f)),this};ot.prototype.isDegenerate=function(){return this.rx<st*this.ry||this.ry<st*this.rx};var ar=ot,sr=$e,or=er,X=ae,lr=nr,ur=ar;function A(e){if(!(this instanceof A))return new A(e);var i=sr(e);this.segments=i.segments,this.err=i.err,this.__stack=[]}A.from=function(e){if(typeof e=="string")return new A(e);if(e instanceof A){var i=new A("");return i.err=e.err,i.segments=e.segments.map(function(t){return t.slice()}),i.__stack=e.__stack.map(function(t){return X().matrix(t.toArray())}),i}throw new Error("SvgPath.from: invalid param type "+e)};A.prototype.__matrix=function(e){var i=this,t;e.queue.length&&this.iterate(function(r,n,s,a){var o,l,f,u;switch(r[0]){case"v":o=e.calc(0,r[1],!0),l=o[0]===0?["v",o[1]]:["l",o[0],o[1]];break;case"V":o=e.calc(s,r[1],!1),l=o[0]===e.calc(s,a,!1)[0]?["V",o[1]]:["L",o[0],o[1]];break;case"h":o=e.calc(r[1],0,!0),l=o[1]===0?["h",o[0]]:["l",o[0],o[1]];break;case"H":o=e.calc(r[1],a,!1),l=o[1]===e.calc(s,a,!1)[1]?["H",o[0]]:["L",o[0],o[1]];break;case"a":case"A":var h=e.toArray(),c=ur(r[1],r[2],r[3]).transform(h);if(h[0]*h[3]-h[1]*h[2]<0&&(r[5]=r[5]?"0":"1"),o=e.calc(r[6],r[7],r[0]==="a"),r[0]==="A"&&r[6]===s&&r[7]===a||r[0]==="a"&&r[6]===0&&r[7]===0){l=[r[0]==="a"?"l":"L",o[0],o[1]];break}c.isDegenerate()?l=[r[0]==="a"?"l":"L",o[0],o[1]]:l=[r[0],c.rx,c.ry,c.ax,r[4],r[5],o[0],o[1]];break;case"m":u=n>0,o=e.calc(r[1],r[2],u),l=["m",o[0],o[1]];break;default:for(f=r[0],l=[f],u=f.toLowerCase()===f,t=1;t<r.length;t+=2)o=e.calc(r[t],r[t+1],u),l.push(o[0],o[1])}i.segments[n]=l},!0)};A.prototype.__evaluateStack=function(){var e,i;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(e=X(),i=this.__stack.length;--i>=0;)e.matrix(this.__stack[i].toArray());this.__matrix(e),this.__stack=[]}};A.prototype.toString=function(){var e="",i="",t=!1;this.__evaluateStack();for(var r=0,n=this.segments.length;r<n;r++){var s=this.segments[r],a=s[0];a!==i||a==="m"||a==="M"?(a==="m"&&i==="z"&&(e+=" "),e+=a,t=!1):t=!0;for(var o=1;o<s.length;o++){var l=s[o];o===1?t&&l>=0&&(e+=" "):l>=0&&(e+=" "),e+=l}i=a}return e};A.prototype.translate=function(e,i){return this.__stack.push(X().translate(e,i||0)),this};A.prototype.scale=function(e,i){return this.__stack.push(X().scale(e,!i&&i!==0?e:i)),this};A.prototype.rotate=function(e,i,t){return this.__stack.push(X().rotate(e,i||0,t||0)),this};A.prototype.skewX=function(e){return this.__stack.push(X().skewX(e)),this};A.prototype.skewY=function(e){return this.__stack.push(X().skewY(e)),this};A.prototype.matrix=function(e){return this.__stack.push(X().matrix(e)),this};A.prototype.transform=function(e){return e.trim()?(this.__stack.push(or(e)),this):this};A.prototype.round=function(e){var i=0,t=0,r=0,n=0,s;return e=e||0,this.__evaluateStack(),this.segments.forEach(function(a){var o=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":o&&(a[1]+=r),r=a[1]-a[1].toFixed(e),a[1]=+a[1].toFixed(e);return;case"V":case"v":o&&(a[1]+=n),n=a[1]-a[1].toFixed(e),a[1]=+a[1].toFixed(e);return;case"Z":case"z":r=i,n=t;return;case"M":case"m":o&&(a[1]+=r,a[2]+=n),r=a[1]-a[1].toFixed(e),n=a[2]-a[2].toFixed(e),i=r,t=n,a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e);return;case"A":case"a":o&&(a[6]+=r,a[7]+=n),r=a[6]-a[6].toFixed(e),n=a[7]-a[7].toFixed(e),a[1]=+a[1].toFixed(e),a[2]=+a[2].toFixed(e),a[3]=+a[3].toFixed(e+2),a[6]=+a[6].toFixed(e),a[7]=+a[7].toFixed(e);return;default:s=a.length,o&&(a[s-2]+=r,a[s-1]+=n),r=a[s-2]-a[s-2].toFixed(e),n=a[s-1]-a[s-1].toFixed(e),a.forEach(function(l,f){f&&(a[f]=+a[f].toFixed(e))});return}}),this};A.prototype.iterate=function(e,i){var t=this.segments,r={},n=!1,s=0,a=0,o=0,l=0,f,u,h;if(i||this.__evaluateStack(),t.forEach(function(c,v){var g=e(c,v,s,a);Array.isArray(g)&&(r[v]=g,n=!0);var d=c[0]===c[0].toLowerCase();switch(c[0]){case"m":case"M":s=c[1]+(d?s:0),a=c[2]+(d?a:0),o=s,l=a;return;case"h":case"H":s=c[1]+(d?s:0);return;case"v":case"V":a=c[1]+(d?a:0);return;case"z":case"Z":s=o,a=l;return;default:s=c[c.length-2]+(d?s:0),a=c[c.length-1]+(d?a:0)}}),!n)return this;for(h=[],f=0;f<t.length;f++)if(typeof r[f]<"u")for(u=0;u<r[f].length;u++)h.push(r[f][u]);else h.push(t[f]);return this.segments=h,this};A.prototype.abs=function(){return this.iterate(function(e,i,t,r){var n=e[0],s=n.toUpperCase(),a;if(n!==s)switch(e[0]=s,n){case"v":e[1]+=r;return;case"a":e[6]+=t,e[7]+=r;return;default:for(a=1;a<e.length;a++)e[a]+=a%2?t:r}},!0),this};A.prototype.rel=function(){return this.iterate(function(e,i,t,r){var n=e[0],s=n.toLowerCase(),a;if(n!==s&&!(i===0&&n==="M"))switch(e[0]=s,n){case"V":e[1]-=r;return;case"A":e[6]-=t,e[7]-=r;return;default:for(a=1;a<e.length;a++)e[a]-=a%2?t:r}},!0),this};A.prototype.unarc=function(){return this.iterate(function(e,i,t,r){var n,s,a,o=[],l=e[0];return l!=="A"&&l!=="a"?null:(l==="a"?(s=t+e[6],a=r+e[7]):(s=e[6],a=e[7]),n=lr(t,r,s,a,e[4],e[5],e[1],e[2],e[3]),n.length===0?[[e[0]==="a"?"l":"L",e[6],e[7]]]:(n.forEach(function(f){o.push(["C",f[2],f[3],f[4],f[5],f[6],f[7]])}),o))}),this};A.prototype.unshort=function(){var e=this.segments,i,t,r,n,s;return this.iterate(function(a,o,l,f){var u=a[0],h=u.toUpperCase(),c;o&&(h==="T"?(c=u==="t",r=e[o-1],r[0]==="Q"?(i=r[1]-l,t=r[2]-f):r[0]==="q"?(i=r[1]-r[3],t=r[2]-r[4]):(i=0,t=0),n=-i,s=-t,c||(n+=l,s+=f),e[o]=[c?"q":"Q",n,s,a[1],a[2]]):h==="S"&&(c=u==="s",r=e[o-1],r[0]==="C"?(i=r[3]-l,t=r[4]-f):r[0]==="c"?(i=r[3]-r[5],t=r[4]-r[6]):(i=0,t=0),n=-i,s=-t,c||(n+=l,s+=f),e[o]=[c?"c":"C",n,s,a[1],a[2],a[3],a[4]]))}),this};var hr=A,fr=hr;const cr=Nt(fr);var Xt=function(e){var i=e,t,r={a:0,b:0,c:0},n=[],s=/(\[[^\]]+\])/g,a=/(#[^\#\s\+>~\.\[:\)]+)/g,o=/(\.[^\s\+>~\.\[:\)]+)/g,l=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,f=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,u=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,h=/([^\s\+>~\.\[:]+)/g;return t=function(c,v){var g,d,y,m,x,S;if(c.test(i))for(g=i.match(c),d=0,y=g.length;d<y;d+=1)r[v]+=1,m=g[d],x=i.indexOf(m),S=m.length,n.push({selector:e.substr(x,S),type:v,index:x,length:S}),i=i.replace(m,Array(S+1).join(" "))},function(){var c=function(y){var m,x,S,k;if(y.test(i))for(m=i.match(y),x=0,S=m.length;x<S;x+=1)k=m[x],i=i.replace(k,Array(k.length+1).join("A"))},v=/\\[0-9A-Fa-f]{6}\s?/g,g=/\\[0-9A-Fa-f]{1,5}\s/g,d=/\\./g;c(v),c(g),c(d)}(),function(){var c=/{[^]*/gm,v,g,d,y;if(c.test(i))for(v=i.match(c),g=0,d=v.length;g<d;g+=1)y=v[g],i=i.replace(y,Array(y.length+1).join(" "))}(),t(s,"b"),t(a,"a"),t(o,"b"),t(l,"c"),t(f,"b"),t(u,"b"),i=i.replace(/[\*\s\+>~]/g," "),i=i.replace(/[#\.]/g," "),i=i.replace(/:not/g,"    "),i=i.replace(/:local/g,"      "),i=i.replace(/:global/g,"       "),i=i.replace(/[\(\)]/g," "),t(h,"c"),n.sort(function(c,v){return c.index-v.index}),{selector:e,specificity:"0,"+r.a.toString()+","+r.b.toString()+","+r.c.toString(),specificityArray:[0,r.a,r.b,r.c],parts:n}},pr=function(e,i){var t,r,n;if(typeof e=="string"){if(e.indexOf(",")!==-1)throw"Invalid CSS selector";t=Xt(e).specificityArray}else if(Array.isArray(e)){if(e.filter(function(s){return typeof s=="number"}).length!==4)throw"Invalid specificity array";t=e}else throw"Invalid CSS selector or specificity array";if(typeof i=="string"){if(i.indexOf(",")!==-1)throw"Invalid CSS selector";r=Xt(i).specificityArray}else if(Array.isArray(i)){if(i.filter(function(s){return typeof s=="number"}).length!==4)throw"Invalid specificity array";r=i}else throw"Invalid CSS selector or specificity array";for(n=0;n<4;n+=1){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1}return 0},Et=function(e,i){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},Et(e,i)};function M(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function t(){this.constructor=e}Et(e,i),e.prototype=i===null?Object.create(i):(t.prototype=i.prototype,new t)}var xt=function(){return xt=Object.assign||function(e){for(var i,t=1,r=arguments.length;t<r;t++)for(var n in i=arguments[t])Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e},xt.apply(this,arguments)};function C(e,i,t,r){return new(t||(t=Promise))(function(n,s){function a(f){try{l(r.next(f))}catch(u){s(u)}}function o(f){try{l(r.throw(f))}catch(u){s(u)}}function l(f){var u;f.done?n(f.value):(u=f.value,u instanceof t?u:new t(function(h){h(u)})).then(a,o)}l((r=r.apply(e,i||[])).next())})}function F(e,i){var t,r,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(f){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(n=2&u[0]?r.return:u[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,u[1])).done)return n;switch(r=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!((n=n.length>0&&n[n.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){a.label=u[1];break}if(u[0]===6&&a.label<n[1]){a.label=n[1],n=u;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(u);break}n[2]&&a.ops.pop(),a.trys.pop();continue}u=i.call(e,a)}catch(h){u=[6,h],r=0}finally{t=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,f])}}}var O=function(){function e(i){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,i){for(var t in i.charAt(0)=="#"&&(i=i.substr(1,6)),i=(i=i.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)i==t&&(i=this.simpleColors[t]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^rgb\(([0-9.]+)%,\s*([0-9.]+)%,\s*([0-9.]+)%\)$/,example:["rgb(50.5%, 25.75%, 75.5%)","rgb(100%,0%,0%)"],process:function(l){return[Math.round(2.55*parseFloat(l[1])),Math.round(2.55*parseFloat(l[2])),Math.round(2.55*parseFloat(l[3]))]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}];for(var r=0;r<this.colorDefs.length;r++){var n=this.colorDefs[r].re,s=this.colorDefs[r].process,a=n.exec(i);if(a){var o=s(a);this.r=o[0],this.g=o[1],this.b=o[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return e.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},e.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},e.prototype.toHex=function(){var i=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return i.length==1&&(i="0"+i),t.length==1&&(t="0"+t),r.length==1&&(r="0"+r),"#"+i+t+r},e.prototype.getHelpXML=function(){for(var i=[],t=0;t<this.colorDefs.length;t++)for(var r=this.colorDefs[t].example,n=0;n<r.length;n++)i[i.length]=r[n];for(var s in this.simpleColors)i[i.length]=s;var a=document.createElement("ul");for(a.setAttribute("id","rgbcolor-examples"),t=0;t<i.length;t++)try{var o=document.createElement("li"),l=new e(i[t]),f=document.createElement("div");f.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),f.appendChild(document.createTextNode("test"));var u=document.createTextNode(" "+i[t]+" -> "+l.toRGB()+" -> "+l.toHex());o.appendChild(f),o.appendChild(u),a.appendChild(o)}catch{}return a},e}(),E=function(){function e(i){this.color=i}return e.prototype.getFillData=function(i,t){return C(this,void 0,void 0,function(){return F(this,function(r){return[2,void 0]})})},e}(),et=function(){function e(){this.xmlSpace="",this.whiteSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null,this.contextFill=null,this.contextStroke=null,this.fillRule=null}return e.prototype.clone=function(){var i=new e;return i.xmlSpace=this.xmlSpace,i.whiteSpace=this.whiteSpace,i.fill=this.fill,i.fillOpacity=this.fillOpacity,i.fontFamily=this.fontFamily,i.fontSize=this.fontSize,i.fontStyle=this.fontStyle,i.fontWeight=this.fontWeight,i.opacity=this.opacity,i.stroke=this.stroke,i.strokeDasharray=this.strokeDasharray,i.strokeDashoffset=this.strokeDashoffset,i.strokeLinecap=this.strokeLinecap,i.strokeLinejoin=this.strokeLinejoin,i.strokeMiterlimit=this.strokeMiterlimit,i.strokeOpacity=this.strokeOpacity,i.strokeWidth=this.strokeWidth,i.textAnchor=this.textAnchor,i.alignmentBaseline=this.alignmentBaseline,i.visibility=this.visibility,i.color=this.color,i.fillRule=this.fillRule,i.contextFill=this.contextFill,i.contextStroke=this.contextStroke,i},e.default=function(){var i=new e;return i.xmlSpace="default",i.whiteSpace="normal",i.fill=new E(new O("rgb(0, 0, 0)")),i.fillOpacity=1,i.fontFamily="times",i.fontSize=16,i.fontStyle="normal",i.fontWeight="normal",i.opacity=1,i.stroke=null,i.strokeDasharray=null,i.strokeDashoffset=0,i.strokeLinecap="butt",i.strokeLinejoin="miter",i.strokeMiterlimit=4,i.strokeOpacity=1,i.strokeWidth=1,i.alignmentBaseline="baseline",i.textAnchor="start",i.visibility="visible",i.color=new O("rgb(0, 0, 0)"),i.fillRule="nonzero",i.contextFill=null,i.contextStroke=null,i},e.getContextColors=function(i,t){t===void 0&&(t=!1);var r={};return i.attributeState.contextFill&&(r.contextFill=i.attributeState.contextFill),i.attributeState.contextStroke&&(r.contextStroke=i.attributeState.contextStroke),t&&i.attributeState.color&&(r.color=i.attributeState.color),r},e}(),$=function(){function e(i,t){var r,n,s;this.pdf=i,this.svg2pdfParameters=t.svg2pdfParameters,this.attributeState=t.attributeState?t.attributeState.clone():et.default(),this.viewport=t.viewport,this.refsHandler=t.refsHandler,this.styleSheets=t.styleSheets,this.textMeasure=t.textMeasure,this.transform=(r=t.transform)!==null&&r!==void 0?r:this.pdf.unitMatrix,this.withinClipPath=(n=t.withinClipPath)!==null&&n!==void 0&&n,this.withinUse=(s=t.withinUse)!==null&&s!==void 0&&s}return e.prototype.clone=function(i){var t,r,n,s;return i===void 0&&(i={}),new e(this.pdf,{svg2pdfParameters:this.svg2pdfParameters,attributeState:i.attributeState?i.attributeState.clone():this.attributeState.clone(),viewport:(t=i.viewport)!==null&&t!==void 0?t:this.viewport,refsHandler:this.refsHandler,styleSheets:this.styleSheets,textMeasure:this.textMeasure,transform:(r=i.transform)!==null&&r!==void 0?r:this.transform,withinClipPath:(n=i.withinClipPath)!==null&&n!==void 0?n:this.withinClipPath,withinUse:(s=i.withinUse)!==null&&s!==void 0?s:this.withinUse})},e}(),se=function(){function e(i){this.renderedElements={},this.idMap=i,this.idPrefix=String(e.instanceCounter++)}return e.prototype.getRendered=function(i,t,r){return C(this,void 0,void 0,function(){var n,s;return F(this,function(a){switch(a.label){case 0:return n=this.generateKey(i,t),this.renderedElements.hasOwnProperty(n)?[2,this.renderedElements[i]]:(s=this.get(i),this.renderedElements[n]=s,[4,r(s)]);case 1:return a.sent(),[2,s]}})})},e.prototype.get=function(i){return this.idMap[ne(i,{isIdentifier:!0})]},e.prototype.generateKey=function(i,t){var r="";return t&&(r=["color","contextFill","contextStroke"].map(function(n){var s,a;return(a=(s=t[n])===null||s===void 0?void 0:s.toRGBA())!==null&&a!==void 0?a:""}).join("|")),this.idPrefix+"|"+i+"|"+r},e.instanceCounter=0,e}();function $t(e,i){return Math.atan2(i[1]-e[1],i[0]-e[0])}var Qt=2/3;function Kt(e,i){return[Qt*(i[0]-e[0])+e[0],Qt*(i[1]-e[1])+e[1]]}function nt(e){var i=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/i,e[1]/i]}function Z(e,i){return nt([i[0]-e[0],i[1]-e[1]])}function vt(e,i){return[e[0]+i[0],e[1]+i[1]]}function Ft(e,i){var t=e[0],r=e[1];return[i.a*t+i.c*r+i.e,i.b*t+i.d*r+i.f]}var rt=function(){function e(){this.segments=[]}return e.prototype.moveTo=function(i,t){return this.segments.push(new P(i,t)),this},e.prototype.lineTo=function(i,t){return this.segments.push(new z(i,t)),this},e.prototype.curveTo=function(i,t,r,n,s,a){return this.segments.push(new q(i,t,r,n,s,a)),this},e.prototype.close=function(){return this.segments.push(new Bt),this},e.prototype.transform=function(i){this.segments.forEach(function(t){if(t instanceof P||t instanceof z||t instanceof q){var r=Ft([t.x,t.y],i);t.x=r[0],t.y=r[1]}if(t instanceof q){var n=Ft([t.x1,t.y1],i),s=Ft([t.x2,t.y2],i);t.x1=n[0],t.y1=n[1],t.x2=s[0],t.y2=s[1]}})},e.prototype.draw=function(i){var t=i.pdf;this.segments.forEach(function(r){r instanceof P?t.moveTo(r.x,r.y):r instanceof z?t.lineTo(r.x,r.y):r instanceof q?t.curveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):t.close()})},e}(),P=function(e,i){this.x=e,this.y=i},z=function(e,i){this.x=e,this.y=i},q=function(e,i,t,r,n,s){this.x1=e,this.y1=i,this.x2=t,this.y2=r,this.x=n,this.y=s},Bt=function(){};function Y(e,i){return i.split(",").indexOf((e.nodeName||e.tagName).toLowerCase())>=0}function p(e,i,t,r){var n;r===void 0&&(r=t);var s=(n=e.style)===null||n===void 0?void 0:n.getPropertyValue(r);if(s)return s;var a=i.getPropertyValue(e,r);return a||e.hasAttribute(t)&&e.getAttribute(t)||void 0}function W(e,i,t){if(p(e.element,t.styleSheets,"display")==="none")return!1;var r=i,n=p(e.element,t.styleSheets,"visibility");return n&&(r=n!=="hidden"),r}function Q(e,i,t){var r=W(e,i,t);return e.element.childNodes.length!==0&&(e.children.forEach(function(n){n.isVisible(r,t)&&(r=!0)}),r)}var dr=function(){function e(){this.markers=[]}return e.prototype.addMarker=function(i){this.markers.push(i)},e.prototype.draw=function(i){return C(this,void 0,void 0,function(){var t,r,n,s,a,o,l,f;return F(this,function(u){switch(u.label){case 0:t=0,u.label=1;case 1:return t<this.markers.length?(r=this.markers[t],n=void 0,s=r.angle,a=r.anchor,o=Math.cos(s),l=Math.sin(s),n=i.pdf.Matrix(o,l,-l,o,a[0],a[1]),n=i.pdf.matrixMult(i.pdf.Matrix(i.attributeState.strokeWidth,0,0,i.attributeState.strokeWidth,0,0),n),n=i.pdf.matrixMult(n,i.transform),i.pdf.saveGraphicsState(),f=et.getContextColors(i),[4,i.refsHandler.getRendered(r.id,f,function(h){return h.apply(i)})]):[3,4];case 2:u.sent(),i.pdf.doFormObject(i.refsHandler.generateKey(r.id,f),n),i.pdf.restoreGraphicsState(),u.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e}(),U=function(e,i,t,r){r===void 0&&(r=!1),this.id=e,this.anchor=i,this.angle=t,this.isStartMarker=r},_t=/url\(["']?#([^"']+)["']?\)/,gr={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},Jt="http://www.w3.org/2000/svg";function H(e,i){var t;return(t=e&&e.toString().match(/^([\-0-9.]+)em$/))?parseFloat(t[1])*i:(t=e&&e.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(t[1]):0}function oe(e){return gr[e]||"alphabetic"}function _(e){for(var i,t=[],r=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;i=r.exec(e);)t.push(parseFloat(i[0]));return t}function tt(e,i){if(e==="transparent"){var t=new O("rgb(0,0,0)");return t.a=0,t}if(i&&e.toLowerCase()==="currentcolor")return i.color||new O("rgb(0,0,0)");if(i&&e.toLowerCase()==="context-stroke")return i.contextStroke||new O("rgb(0,0,0)");if(i&&e.toLowerCase()==="context-fill")return i.contextFill||new O("rgb(0,0,0)");var r=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(e);if(r){var n=_(r[1]),s=new O("rgb("+n.slice(0,3).join(",")+")");return s.a=n[3],s}return new O(e)}var V={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},At,vr=(At=ie.version.split("."),parseFloat(At[0])===2&&parseFloat(At[1])===3);function le(e,i){return vr?i==400?e=="italic"?"italic":"normal":i==700&&e!=="italic"?"bold":e+""+i:i==400||i==="normal"?e==="italic"?"italic":"normal":i!=700&&i!=="bold"||e!=="normal"?(i==700?"bold":i)+""+e:"bold"}function Rt(e,i){if(p(i.element,e.styleSheets,"display")==="none")return[0,0,0,0];var t=[];return i.children.forEach(function(r){var n=r.getBoundingBox(e);if(n[0]!==0||n[1]!==0||n[2]!==0||n[3]!==0){var s=r.computeNodeTransform(e);n[0]=n[0]*s.sx+s.tx,n[1]=n[1]*s.sy+s.ty,n[2]=n[2]*s.sx,n[3]=n[3]*s.sy,t=t.length===0?n:[Math.min(t[0],n[0]),Math.min(t[1],n[1]),Math.max(t[0]+t[2],n[0]+n[2])-Math.min(t[0],n[0]),Math.max(t[1]+t[3],n[1]+n[3])-Math.min(t[1],n[1])]}}),t.length===0?[0,0,0,0]:t}function lt(e,i){var t=parseFloat,r=t(e.getAttribute("x1"))||t(p(e,i.styleSheets,"x"))||t(p(e,i.styleSheets,"cx"))-t(p(e,i.styleSheets,"r"))||0,n=t(e.getAttribute("x2"))||r+t(p(e,i.styleSheets,"width"))||t(p(e,i.styleSheets,"cx"))+t(p(e,i.styleSheets,"r"))||0,s=t(e.getAttribute("y1"))||t(p(e,i.styleSheets,"y"))||t(p(e,i.styleSheets,"cy"))-t(p(e,i.styleSheets,"r"))||0,a=t(e.getAttribute("y2"))||s+t(p(e,i.styleSheets,"height"))||t(p(e,i.styleSheets,"cy"))+t(p(e,i.styleSheets,"r"))||0;return[Math.min(r,n),Math.min(s,a),Math.max(r,n)-Math.min(r,n),Math.max(s,a)-Math.min(s,a)]}function ut(e,i,t,r,n,s,a,o){o===void 0&&(o=!1);var l,f,u=i[0],h=i[1],c=i[2],v=i[3],g=n/c,d=s/v,y=e.getAttribute("preserveAspectRatio");if(y){var m=y.split(" ");m[0]==="defer"&&(m=m.slice(1)),l=m[0],f=m[1]||"meet"}else l="xMidYMid",f="meet";if(l!=="none"&&(f==="meet"?g=d=Math.min(g,d):f==="slice"&&(g=d=Math.max(g,d))),o)return a.pdf.Matrix(g,0,0,d,0,0);var x=t-u*g,S=r-h*d;l.indexOf("xMid")>=0?x+=(n-c*g)/2:l.indexOf("xMax")>=0&&(x+=n-c*g),l.indexOf("YMid")>=0?S+=(s-v*d)/2:l.indexOf("YMax")>=0&&(S+=s-v*d);var k=a.pdf.Matrix(1,0,0,1,x,S),b=a.pdf.Matrix(g,0,0,d,0,0);return a.pdf.matrixMult(b,k)}function bt(e,i){if(!e||e==="none")return i.pdf.unitMatrix;for(var t,r,n=/^[\s,]*matrix\(([^)]+)\)\s*/,s=/^[\s,]*translate\(([^)]+)\)\s*/,a=/^[\s,]*rotate\(([^)]+)\)\s*/,o=/^[\s,]*scale\(([^)]+)\)\s*/,l=/^[\s,]*skewX\(([^)]+)\)\s*/,f=/^[\s,]*skewY\(([^)]+)\)\s*/,u=i.pdf.unitMatrix;e.length>0&&e.length!==r;){r=e.length;var h=n.exec(e);if(h&&(t=_(h[1]),u=i.pdf.matrixMult(i.pdf.Matrix(t[0],t[1],t[2],t[3],t[4],t[5]),u),e=e.substr(h[0].length)),h=a.exec(e)){t=_(h[1]);var c=Math.PI*t[0]/180;if(u=i.pdf.matrixMult(i.pdf.Matrix(Math.cos(c),Math.sin(c),-Math.sin(c),Math.cos(c),0,0),u),t[1]||t[2]){var v=i.pdf.Matrix(1,0,0,1,t[1],t[2]),g=i.pdf.Matrix(1,0,0,1,-t[1],-t[2]);u=i.pdf.matrixMult(g,i.pdf.matrixMult(u,v))}e=e.substr(h[0].length)}(h=s.exec(e))&&(t=_(h[1]),u=i.pdf.matrixMult(i.pdf.Matrix(1,0,0,1,t[0],t[1]||0),u),e=e.substr(h[0].length)),(h=o.exec(e))&&((t=_(h[1]))[1]||(t[1]=t[0]),u=i.pdf.matrixMult(i.pdf.Matrix(t[0],0,0,t[1],0,0),u),e=e.substr(h[0].length)),(h=l.exec(e))&&(t=parseFloat(h[1]),t*=Math.PI/180,u=i.pdf.matrixMult(i.pdf.Matrix(1,0,Math.tan(t),1,0,0),u),e=e.substr(h[0].length)),(h=f.exec(e))&&(t=parseFloat(h[1]),t*=Math.PI/180,u=i.pdf.matrixMult(i.pdf.Matrix(1,Math.tan(t),0,1,0,0),u),e=e.substr(h[0].length))}return u}var Ot=function(){function e(i,t){this.element=i,this.children=t,this.parent=null}return e.prototype.setParent=function(i){this.parent=i},e.prototype.getParent=function(){return this.parent},e.prototype.getBoundingBox=function(i){return p(this.element,i.styleSheets,"display")==="none"?[0,0,0,0]:this.getBoundingBoxCore(i)},e.prototype.computeNodeTransform=function(i){var t=this.computeNodeTransformCore(i),r=p(this.element,i.styleSheets,"transform");return r?i.pdf.matrixMult(t,bt(r,i)):t},e}(),ht=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.render=function(t){return Promise.resolve()},i.prototype.getBoundingBoxCore=function(t){return[]},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i}(Ot),ue=function(e){function i(t,r,n){var s=e.call(this,r,n)||this;return s.pdfGradientType=t,s.contextColor=void 0,s}return M(i,e),i.prototype.apply=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o,l;return F(this,function(f){return(r=this.element.getAttribute("id"))?(n=this.getStops(t.styleSheets),s=0,a=!1,n.forEach(function(u){var h=u.opacity;h&&h!==1&&(s+=h,a=!0)}),a&&(o=new It({opacity:s/n.length})),l=new Fe(this.pdfGradientType,this.getCoordinates(),n,o),t.pdf.addShadingPattern(r,l),[2]):[2]})})},i.prototype.getStops=function(t){var r=this;if(this.stops)return this.stops;if(this.contextColor===void 0){this.contextColor=null;for(var n=this;n;){var s=p(n.element,t,"color");if(s){this.contextColor=tt(s,null);break}n=n.getParent()}}var a=[];return this.children.forEach(function(o){if(o.element.tagName.toLowerCase()==="stop"){var l=p(o.element,t,"color"),f=tt(p(o.element,t,"stop-color")||"",l?{color:tt(l,null)}:{color:r.contextColor}),u=parseFloat(p(o.element,t,"stop-opacity")||"1");a.push({offset:i.parseGradientOffset(o.element.getAttribute("offset")||"0"),color:[f.r,f.g,f.b],opacity:u})}}),this.stops=a},i.prototype.getBoundingBoxCore=function(t){return lt(this.element,t)},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.prototype.isVisible=function(t,r){return Q(this,t,r)},i.parseGradientOffset=function(t){var r=parseFloat(t);return!isNaN(r)&&t.indexOf("%")>=0?r/100:r},i}(ht),he=function(e){function i(t,r){return e.call(this,"axial",t,r)||this}return M(i,e),i.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},i}(ue),fe=function(e){function i(t,r){return e.call(this,"radial",t,r)||this}return M(i,e),i.prototype.getCoordinates=function(){var t=this.element.getAttribute("cx"),r=this.element.getAttribute("cy"),n=this.element.getAttribute("fx"),s=this.element.getAttribute("fy");return[parseFloat(n||t||"0.5"),parseFloat(s||r||"0.5"),0,parseFloat(t||"0.5"),parseFloat(r||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},i}(ue),mr=function(){function e(i,t){this.key=i,this.gradient=t}return e.prototype.getFillData=function(i,t){return C(this,void 0,void 0,function(){var r,n,s;return F(this,function(a){switch(a.label){case 0:return[4,t.refsHandler.getRendered(this.key,null,function(o){return o.apply(new $(t.pdf,{refsHandler:t.refsHandler,textMeasure:t.textMeasure,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters}))})];case 1:return a.sent(),this.gradient.element.hasAttribute("gradientUnits")&&this.gradient.element.getAttribute("gradientUnits").toLowerCase()!=="objectboundingbox"?r=t.pdf.unitMatrix:(n=i.getBoundingBox(t),r=t.pdf.Matrix(n[2],0,0,n[3],n[0],n[1])),s=bt(p(this.gradient.element,t.styleSheets,"gradientTransform","transform"),t),[2,{key:this.key,matrix:t.pdf.matrixMult(s,r)}]}})})},e}(),ce=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.apply=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o;return F(this,function(l){switch(l.label){case 0:if(!(r=this.element.getAttribute("id")))return[2];n=this.getBoundingBox(t),s=new Ae([n[0],n[1],n[0]+n[2],n[1]+n[3]],n[2],n[3]),t.pdf.beginTilingPattern(s),a=0,o=this.children,l.label=1;case 1:return a<o.length?[4,o[a].render(new $(t.pdf,{attributeState:t.attributeState,refsHandler:t.refsHandler,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure}))]:[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return t.pdf.endTilingPattern(r,s),[2]}})})},i.prototype.getBoundingBoxCore=function(t){return lt(this.element,t)},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.prototype.isVisible=function(t,r){return Q(this,t,r)},i}(ht),yr=function(){function e(i,t){this.key=i,this.pattern=t}return e.prototype.getFillData=function(i,t){return C(this,void 0,void 0,function(){var r,n,s,a,o,l,f,u,h,c,v,g;return F(this,function(d){switch(d.label){case 0:return[4,t.refsHandler.getRendered(this.key,null,function(y){return y.apply(new $(t.pdf,{refsHandler:t.refsHandler,textMeasure:t.textMeasure,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters}))})];case 1:return d.sent(),r={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},s=t.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&this.pattern.element.getAttribute("patternUnits").toLowerCase()!=="objectboundingbox"||(n=i.getBoundingBox(t),s=t.pdf.Matrix(1,0,0,1,n[0],n[1]),o=this.pattern.getBoundingBox(t),l=o[0]*n[0]||0,f=o[1]*n[1]||0,u=o[2]*n[2]||0,h=o[3]*n[3]||0,r.boundingBox=[l,f,l+u,f+h],r.xStep=u,r.yStep=h),a=t.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&this.pattern.element.getAttribute("patternContentUnits").toLowerCase()==="objectboundingbox"&&(n||(n=i.getBoundingBox(t)),a=t.pdf.Matrix(n[2],0,0,n[3],0,0),o=r.boundingBox||this.pattern.getBoundingBox(t),l=o[0]/n[0]||0,f=o[1]/n[1]||0,u=o[2]/n[2]||0,h=o[3]/n[3]||0,r.boundingBox=[l,f,l+u,f+h],r.xStep=u,r.yStep=h),c=t.pdf.unitMatrix,(v=p(this.pattern.element,t.styleSheets,"patternTransform","transform"))&&(c=bt(v,t)),g=a,g=t.pdf.matrixMult(g,s),g=t.pdf.matrixMult(g,c),g=t.pdf.matrixMult(g,t.transform),r.matrix=g,[2,r]}})})},e}();function xr(e,i){var t=_t.exec(e);if(t){var r=t[1],n=i.refsHandler.get(r);return n&&(n instanceof he||n instanceof fe)?function(a,o,l){var f=o.getStops(l.styleSheets);if(f.length===0)return null;if(f.length===1){var u=f[0].color,h=new O;return h.ok=!0,h.r=u[0],h.g=u[1],h.b=u[2],h.a=f[0].opacity,new E(h)}return new mr(a,o)}(r,n,i):n&&n instanceof ce?new yr(r,n):new E(new O("rgb(0, 0, 0)"))}var s=tt(e,i.attributeState);return s.ok?new E(s):null}function Dt(e,i,t){var r=t||i.element,n=p(r,e.styleSheets,"color");if(n){var s=tt(n,e.attributeState);s.ok?e.attributeState.color=s:e.attributeState.color=new O("rgb(0,0,0)")}var a=p(r,e.styleSheets,"visibility");a&&(e.attributeState.visibility=a);var o=p(r,e.styleSheets,"fill");o&&(e.attributeState.fill=xr(o,e));var l=p(r,e.styleSheets,"fill-opacity");l&&(e.attributeState.fillOpacity=parseFloat(l));var f=p(r,e.styleSheets,"stroke-opacity");f&&(e.attributeState.strokeOpacity=parseFloat(f));var u=p(r,e.styleSheets,"opacity");u&&(e.attributeState.opacity=parseFloat(u));var h=p(r,e.styleSheets,"stroke-width");h!==void 0&&h!==""&&(e.attributeState.strokeWidth=Math.abs(parseFloat(h)));var c=p(r,e.styleSheets,"stroke");if(c)if(c==="none")e.attributeState.stroke=null;else{var v=tt(c,e.attributeState);v.ok&&(e.attributeState.stroke=new E(v))}c&&e.attributeState.stroke instanceof E&&(e.attributeState.contextStroke=e.attributeState.stroke.color),o&&e.attributeState.fill instanceof E&&(e.attributeState.contextFill=e.attributeState.fill.color);var g=p(r,e.styleSheets,"stroke-linecap");g&&(e.attributeState.strokeLinecap=g);var d=p(r,e.styleSheets,"stroke-linejoin");d&&(e.attributeState.strokeLinejoin=d);var y=p(r,e.styleSheets,"stroke-dasharray");if(y){var m=parseInt(p(r,e.styleSheets,"stroke-dashoffset")||"0");e.attributeState.strokeDasharray=_(y),e.attributeState.strokeDashoffset=m}var x=p(r,e.styleSheets,"stroke-miterlimit");x!==void 0&&x!==""&&(e.attributeState.strokeMiterlimit=parseFloat(x));var S=r.getAttribute("xml:space");S&&(e.attributeState.xmlSpace=S);var k=p(r,e.styleSheets,"white-space");k&&(e.attributeState.whiteSpace=k);var b=p(r,e.styleSheets,"font-weight");b&&(e.attributeState.fontWeight=b);var w=p(r,e.styleSheets,"font-style");w&&(e.attributeState.fontStyle=w);var T=p(r,e.styleSheets,"font-family");if(T){var I=qe.parse(T);e.attributeState.fontFamily=function(ct,we,ke){var Me=le(ct.fontStyle,ct.fontWeight),Ce=ke.pdf.getFontList(),pt="";return we.some(function(K){var Vt=Ce[K];return Vt&&Vt.indexOf(Me)>=0?(pt=K,!0):(K=K.toLowerCase(),!!V.hasOwnProperty(K)&&(pt=K,!0))})||(pt="times"),pt}(e.attributeState,I,e)}var L=p(r,e.styleSheets,"font-size");if(L){var B=e.pdf.getFontSize();e.attributeState.fontSize=H(L,B)}var N=p(r,e.styleSheets,"vertical-align")||p(r,e.styleSheets,"alignment-baseline");if(N){var R=N.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);R&&(e.attributeState.alignmentBaseline=R[0])}var j=p(r,e.styleSheets,"text-anchor");j&&(e.attributeState.textAnchor=j);var G=p(r,e.styleSheets,"fill-rule");G&&(e.attributeState.fillRule=G)}function qt(e,i,t){var r=1,n=1;r*=e.attributeState.fillOpacity,r*=e.attributeState.opacity,e.attributeState.fill instanceof E&&e.attributeState.fill.color.a!==void 0&&(r*=e.attributeState.fill.color.a),n*=e.attributeState.strokeOpacity,n*=e.attributeState.opacity,e.attributeState.stroke instanceof E&&e.attributeState.stroke.color.a!==void 0&&(n*=e.attributeState.stroke.color.a);var s,a,o=r<1,l=n<1;if(Y(t,"use")?(o=!0,l=!0,r*=e.attributeState.fill?1:0,n*=e.attributeState.stroke?1:0):e.withinUse&&(e.attributeState.fill!==i.attributeState.fill?(o=!0,r*=e.attributeState.fill?1:0):o&&!e.attributeState.fill&&(r=0),e.attributeState.stroke!==i.attributeState.stroke?(l=!0,n*=e.attributeState.stroke?1:0):l&&!e.attributeState.stroke&&(n=0)),o||l){var f={};o&&(f.opacity=r),l&&(f["stroke-opacity"]=n),e.pdf.setGState(new It(f))}if(e.attributeState.fill&&e.attributeState.fill!==i.attributeState.fill&&e.attributeState.fill instanceof E&&e.attributeState.fill.color.ok&&!Y(t,"text")&&e.pdf.setFillColor(e.attributeState.fill.color.r,e.attributeState.fill.color.g,e.attributeState.fill.color.b),e.attributeState.strokeWidth!==i.attributeState.strokeWidth&&e.pdf.setLineWidth(e.attributeState.strokeWidth),e.attributeState.stroke!==i.attributeState.stroke&&e.attributeState.stroke instanceof E&&e.pdf.setDrawColor(e.attributeState.stroke.color.r,e.attributeState.stroke.color.g,e.attributeState.stroke.color.b),e.attributeState.strokeLinecap!==i.attributeState.strokeLinecap&&e.pdf.setLineCap(e.attributeState.strokeLinecap),e.attributeState.strokeLinejoin!==i.attributeState.strokeLinejoin&&e.pdf.setLineJoin(e.attributeState.strokeLinejoin),e.attributeState.strokeDasharray===i.attributeState.strokeDasharray&&e.attributeState.strokeDashoffset===i.attributeState.strokeDashoffset||!e.attributeState.strokeDasharray||e.pdf.setLineDashPattern(e.attributeState.strokeDasharray,e.attributeState.strokeDashoffset),e.attributeState.strokeMiterlimit!==i.attributeState.strokeMiterlimit&&e.pdf.setLineMiterLimit(e.attributeState.strokeMiterlimit),e.attributeState.fontFamily!==i.attributeState.fontFamily&&(s=V.hasOwnProperty(e.attributeState.fontFamily)?V[e.attributeState.fontFamily]:e.attributeState.fontFamily),e.attributeState.fill&&e.attributeState.fill!==i.attributeState.fill&&e.attributeState.fill instanceof E&&e.attributeState.fill.color.ok){var u=e.attributeState.fill.color;e.pdf.setTextColor(u.r,u.g,u.b)}e.attributeState.fontWeight===i.attributeState.fontWeight&&e.attributeState.fontStyle===i.attributeState.fontStyle||(a=le(e.attributeState.fontStyle,e.attributeState.fontWeight)),s===void 0&&a===void 0||(s===void 0&&(s=V.hasOwnProperty(e.attributeState.fontFamily)?V[e.attributeState.fontFamily]:e.attributeState.fontFamily),e.pdf.setFont(s,a)),e.attributeState.fontSize!==i.attributeState.fontSize&&e.pdf.setFontSize(e.attributeState.fontSize*e.pdf.internal.scaleFactor)}function pe(e,i,t){var r=_t.exec(e);if(r){var n=r[1];return t.refsHandler.get(n)||void 0}}function de(e,i,t){return C(this,void 0,void 0,function(){var r,n;return F(this,function(s){switch(s.label){case 0:return r=t.clone(),i.element.hasAttribute("clipPathUnits")&&i.element.getAttribute("clipPathUnits").toLowerCase()==="objectboundingbox"&&(n=e.getBoundingBox(t),r.transform=t.pdf.matrixMult(t.pdf.Matrix(n[2],0,0,n[3],n[0],n[1]),t.transform)),[4,i.apply(r)];case 1:return s.sent(),[2]}})})}var ge=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.render=function(t){return C(this,void 0,void 0,function(){var r,n,s,a;return F(this,function(o){switch(o.label){case 0:return this.isVisible(t.attributeState.visibility!=="hidden",t)?((r=t.clone()).transform=r.pdf.matrixMult(this.computeNodeTransform(r),t.transform),Dt(r,this),n=p(this.element,r.styleSheets,"clip-path"),(s=n&&n!=="none")?(a=pe(n,0,r))?a.isVisible(!0,r)?(r.pdf.saveGraphicsState(),[4,de(this,a,r)]):[3,2]:[3,4]:[3,5]):[2];case 1:return o.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:s=!1,o.label=5;case 5:return r.withinClipPath||r.pdf.saveGraphicsState(),qt(r,t,this.element),[4,this.renderCore(r)];case 6:return o.sent(),r.withinClipPath||r.pdf.restoreGraphicsState(),s&&r.pdf.restoreGraphicsState(),[2]}})})},i}(Ot),St=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i}(ge),ft=function(e){function i(t,r,n){var s=e.call(this,r,n)||this;return s.cachedPath=null,s.hasMarkers=t,s}return M(i,e),i.prototype.renderCore=function(t){return C(this,void 0,void 0,function(){var r;return F(this,function(n){switch(n.label){case 0:return(r=this.getCachedPath(t))===null||r.segments.length===0?[2]:(t.withinClipPath?r.transform(t.transform):t.pdf.setCurrentTransformationMatrix(t.transform),r.draw(t),[4,this.fillOrStroke(t)]);case 1:return n.sent(),this.hasMarkers?[4,this.drawMarkers(t,r)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},i.prototype.getCachedPath=function(t){return this.cachedPath||(this.cachedPath=this.getPath(t))},i.prototype.drawMarkers=function(t,r){return C(this,void 0,void 0,function(){return F(this,function(n){switch(n.label){case 0:return[4,this.getMarkers(r,t).draw(t.clone({transform:t.pdf.unitMatrix}))];case 1:return n.sent(),[2]}})})},i.prototype.fillOrStroke=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o;return F(this,function(l){switch(l.label){case 0:return t.withinClipPath?[2]:(r=t.attributeState.fill,n=t.attributeState.stroke&&t.attributeState.strokeWidth!==0,r?[4,r.getFillData(this,t)]:[3,2]);case 1:return a=l.sent(),[3,3];case 2:a=void 0,l.label=3;case 3:return s=a,o=t.attributeState.fillRule==="evenodd",r&&n||t.withinUse?o?t.pdf.fillStrokeEvenOdd(s):t.pdf.fillStroke(s):r?o?t.pdf.fillEvenOdd(s):t.pdf.fill(s):n?t.pdf.stroke():t.pdf.discardPath(),[2]}})})},i.prototype.getBoundingBoxCore=function(t){var r=this.getCachedPath(t);if(!r||!r.segments.length)return[0,0,0,0];for(var n=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=0,f=0,u=0;u<r.segments.length;u++){var h=r.segments[u];(h instanceof P||h instanceof z||h instanceof q)&&(l=h.x,f=h.y),h instanceof q?(n=Math.min(n,l,h.x1,h.x2,h.x),a=Math.max(a,l,h.x1,h.x2,h.x),s=Math.min(s,f,h.y1,h.y2,h.y),o=Math.max(o,f,h.y1,h.y2,h.y)):(n=Math.min(n,l),a=Math.max(a,l),s=Math.min(s,f),o=Math.max(o,f))}return[n,s,a-n,o-s]},i.prototype.getMarkers=function(t,r){var n=p(this.element,r.styleSheets,"marker-start"),s=p(this.element,r.styleSheets,"marker-mid"),a=p(this.element,r.styleSheets,"marker-end"),o=new dr;if(n||s||a){a&&(a=Tt(a)),n&&(n=Tt(n)),s&&(s=Tt(s));for(var l=t.segments,f=[1,0],u=void 0,h=!1,c=[1,0],v=!1,g=function(y){var m=l[y],x=n&&(y===1||!(l[y]instanceof P)&&l[y-1]instanceof P);x&&l.forEach(function(I,L){if(!v&&I instanceof Bt&&L>y){var B=l[L-1];v=(B instanceof P||B instanceof z||B instanceof q)&&B}});var S=a&&(y===l.length-1||!(l[y]instanceof P)&&l[y+1]instanceof P),k=s&&y>0&&!(y===1&&l[y-1]instanceof P),b=l[y-1]||null;if(b instanceof P||b instanceof z||b instanceof q)if(m instanceof q)x&&o.addMarker(new U(n,[b.x,b.y],$t(v?[v.x,v.y]:[b.x,b.y],[m.x1,m.y1]),!0)),S&&o.addMarker(new U(a,[m.x,m.y],$t([m.x2,m.y2],[m.x,m.y]))),k&&(u=Z([b.x,b.y],[m.x1,m.y1]),u=b instanceof P?u:nt(vt(f,u)),o.addMarker(new U(s,[b.x,b.y],Math.atan2(u[1],u[0])))),f=Z([m.x2,m.y2],[m.x,m.y]);else if(m instanceof P||m instanceof z){if(u=Z([b.x,b.y],[m.x,m.y]),x){var w=v?Z([v.x,v.y],[m.x,m.y]):u;o.addMarker(new U(n,[b.x,b.y],Math.atan2(w[1],w[0]),!0))}S&&o.addMarker(new U(a,[m.x,m.y],Math.atan2(u[1],u[0]))),k&&(w=m instanceof P?f:b instanceof P?u:nt(vt(f,u)),o.addMarker(new U(s,[b.x,b.y],Math.atan2(w[1],w[0])))),f=u}else m instanceof Bt&&(u=Z([b.x,b.y],[h.x,h.y]),k&&(w=b instanceof P?u:nt(vt(f,u)),o.addMarker(new U(s,[b.x,b.y],Math.atan2(w[1],w[0])))),S&&(w=nt(vt(u,c)),o.addMarker(new U(a,[h.x,h.y],Math.atan2(w[1],w[0])))),f=u);else{h=m instanceof P&&m;var T=l[y+1];(T instanceof P||T instanceof z||T instanceof q)&&(c=Z([h.x,h.y],[T.x,T.y]))}},d=0;d<l.length;d++)g(d)}return o.markers.forEach(function(y){var m=r.refsHandler.get(y.id);if(m){var x=p(m.element,r.styleSheets,"orient");x!=null&&(y.isStartMarker&&x==="auto-start-reverse"&&(y.angle+=Math.PI),isNaN(Number(x))||(y.angle=parseFloat(x)/180*Math.PI))}}),o},i}(St);function Tt(e){var i=_t.exec(e);return i&&i[1]||void 0}var br=function(e){function i(t,r){return e.call(this,!0,t,r)||this}return M(i,e),i.prototype.getPath=function(t){if(t.withinClipPath||t.attributeState.stroke===null)return null;var r=parseFloat(this.element.getAttribute("x1")||"0"),n=parseFloat(this.element.getAttribute("y1")||"0"),s=parseFloat(this.element.getAttribute("x2")||"0"),a=parseFloat(this.element.getAttribute("y2")||"0");return r||s||n||a?new rt().moveTo(r,n).lineTo(s,a):null},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.prototype.isVisible=function(t,r){return W(this,t,r)},i.prototype.fillOrStroke=function(t){return C(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return t.attributeState.fill=null,[4,e.prototype.fillOrStroke.call(this,t)];case 1:return r.sent(),[2]}})})},i}(ft),ve=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.apply=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o;return F(this,function(l){switch(l.label){case 0:return this.isVisible(t.attributeState.visibility!=="hidden",t)?((r=t.clone()).transform=r.pdf.unitMatrix,Dt(r,this),n=p(this.element,r.styleSheets,"clip-path"),n&&n!=="none"&&(s=pe(n,0,r))?s.isVisible(!0,r)?[4,de(this,s,r)]:[3,2]:[3,3]):[2];case 1:return l.sent(),[3,3];case 2:return[2];case 3:qt(r,t,this.element),a=0,o=this.children,l.label=4;case 4:return a<o.length?[4,o[a].render(r)]:[3,7];case 5:l.sent(),l.label=6;case 6:return a++,[3,4];case 7:return[2]}})})},i.prototype.getBoundingBoxCore=function(t){return Rt(t,this)},i.prototype.isVisible=function(t,r){return Q(this,t,r)},i.prototype.computeNodeTransformCore=function(t){var r=parseFloat(p(this.element,t.styleSheets,"x")||"0"),n=parseFloat(p(this.element,t.styleSheets,"y")||"0"),s=this.element.getAttribute("viewBox");if(s){var a=_(s),o=parseFloat(p(this.element,t.styleSheets,"width")||p(this.element.ownerSVGElement,t.styleSheets,"width")||s[2]),l=parseFloat(p(this.element,t.styleSheets,"height")||p(this.element.ownerSVGElement,t.styleSheets,"height")||s[3]);return ut(this.element,a,r,n,o,l,t)}return t.pdf.Matrix(1,0,0,1,r,n)},i}(ht),wt=function(e,i){this.width=e,this.height=i},Sr=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.renderCore=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o,l,f,u,h,c,v,g,d;return F(this,function(y){switch(y.label){case 0:return r=parseFloat,(n=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(s=n.substring(1),a=t.refsHandler.get(s),o=Y(a.element,"symbol,svg")&&a.element.hasAttribute("viewBox"),l=r(p(this.element,t.styleSheets,"x")||"0"),f=r(p(this.element,t.styleSheets,"y")||"0"),u=void 0,h=void 0,o?(u=r(p(this.element,t.styleSheets,"width")||p(a.element,t.styleSheets,"width")||"0"),h=r(p(this.element,t.styleSheets,"height")||p(a.element,t.styleSheets,"height")||"0"),l+=r(p(a.element,t.styleSheets,"x")||"0"),f+=r(p(a.element,t.styleSheets,"y")||"0"),v=_(a.element.getAttribute("viewBox")),c=ut(a.element,v,l,f,u,h,t)):c=t.pdf.Matrix(1,0,0,1,l,f),g=et.getContextColors(t,!0),d=new $(t.pdf,{refsHandler:t.refsHandler,styleSheets:t.styleSheets,withinUse:!0,viewport:o?new wt(u,h):t.viewport,svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure,attributeState:Object.assign(et.default(),g)}),[4,t.refsHandler.getRendered(s,g,function(m){return i.renderReferencedNode(m,s,d)})]):[2];case 1:return y.sent(),t.pdf.saveGraphicsState(),t.pdf.setCurrentTransformationMatrix(t.transform),o&&p(a.element,t.styleSheets,"overflow")!=="visible"&&(t.pdf.rect(l,f,u,h),t.pdf.clip().discardPath()),t.pdf.doFormObject(t.refsHandler.generateKey(s,g),c),t.pdf.restoreGraphicsState(),[2]}})})},i.renderReferencedNode=function(t,r,n){return C(this,void 0,void 0,function(){var s;return F(this,function(a){switch(a.label){case 0:return s=[(s=t.getBoundingBox(n))[0]-.5*s[2],s[1]-.5*s[3],2*s[2],2*s[3]],n.pdf.beginFormObject(s[0],s[1],s[2],s[3],n.pdf.unitMatrix),t instanceof ve?[4,t.apply(n)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,t.render(n)];case 3:a.sent(),a.label=4;case 4:return n.pdf.endFormObject(n.refsHandler.generateKey(r,n.attributeState)),[2]}})})},i.prototype.getBoundingBoxCore=function(t){return lt(this.element,t)},i.prototype.isVisible=function(t,r){return W(this,t,r)},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i}(St),wr=function(e){function i(t,r){return e.call(this,!1,t,r)||this}return M(i,e),i.prototype.getPath=function(t){var r=parseFloat(p(this.element,t.styleSheets,"width")||"0"),n=parseFloat(p(this.element,t.styleSheets,"height")||"0");if(!isFinite(r)||r<=0||!isFinite(n)||n<=0)return null;var s=p(this.element,t.styleSheets,"rx"),a=p(this.element,t.styleSheets,"ry"),o=Math.min(parseFloat(s||a||"0"),.5*r),l=Math.min(parseFloat(a||s||"0"),.5*n),f=parseFloat(p(this.element,t.styleSheets,"x")||"0"),u=parseFloat(p(this.element,t.styleSheets,"y")||"0"),h=4/3*(Math.SQRT2-1);return o===0&&l===0?new rt().moveTo(f,u).lineTo(f+r,u).lineTo(f+r,u+n).lineTo(f,u+n).close():new rt().moveTo(f+=o,u).lineTo(f+=r-2*o,u).curveTo(f+o*h,u,f+o,u+(l-l*h),f+=o,u+=l).lineTo(f,u+=n-2*l).curveTo(f,u+l*h,f-o*h,u+l,f-=o,u+=l).lineTo(f+=2*o-r,u).curveTo(f-o*h,u,f-o,u-l*h,f-=o,u-=l).lineTo(f,u+=2*l-n).curveTo(f,u-l*h,f+o*h,u-l,f+=o,u-=l).close()},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.prototype.isVisible=function(t,r){return W(this,t,r)},i}(ft),me=function(e){function i(t,r){return e.call(this,!1,t,r)||this}return M(i,e),i.prototype.getPath=function(t){var r=this.getRx(t),n=this.getRy(t);if(!isFinite(r)||n<=0||!isFinite(n)||n<=0)return null;var s=parseFloat(p(this.element,t.styleSheets,"cx")||"0"),a=parseFloat(p(this.element,t.styleSheets,"cy")||"0"),o=4/3*(Math.SQRT2-1)*r,l=4/3*(Math.SQRT2-1)*n;return new rt().moveTo(s+r,a).curveTo(s+r,a-l,s+o,a-n,s,a-n).curveTo(s-o,a-n,s-r,a-l,s-r,a).curveTo(s-r,a+l,s-o,a+n,s,a+n).curveTo(s+o,a+n,s+r,a+l,s+r,a)},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.prototype.isVisible=function(t,r){return W(this,t,r)},i}(ft),kr=function(e){function i(t,r){return e.call(this,t,r)||this}return M(i,e),i.prototype.getRx=function(t){return parseFloat(p(this.element,t.styleSheets,"rx")||"0")},i.prototype.getRy=function(t){return parseFloat(p(this.element,t.styleSheets,"ry")||"0")},i}(me);function ye(e){var i="invisible",t=e.stroke&&e.strokeWidth!==0,r=e.fill;return r&&t?i="fillThenStroke":r?i="fill":t&&(i="stroke"),i}function Zt(e){return e.replace(/[\n\r]/g,"")}function te(e){return e.replace(/[\t]/g," ")}function ee(e){return e.replace(/ +/g," ")}function re(e,i,t){switch(p(e,t.styleSheets,"text-transform")){case"uppercase":return i.toUpperCase();case"lowercase":return i.toLowerCase();default:return i}}var Pt=function(){function e(i,t,r,n){this.textNode=i,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=t,this.originX=r,this.originY=n,this.textMeasures=[]}return e.prototype.setX=function(i){this.originX=i},e.prototype.setY=function(i){this.originY=i},e.prototype.add=function(i,t,r){this.texts.push(t),this.textNodes.push(i),this.contexts.push(r)},e.prototype.rightTrimText=function(){for(var i=this.texts.length-1;i>=0;i--)if(this.contexts[i].attributeState.xmlSpace==="preserve"||this.contexts[i].attributeState.whiteSpace==="pre"||(this.texts[i]=this.texts[i].replace(/\s+$/,"")),this.texts[i].match(/[^\s]/))return!1;return!0},e.prototype.measureText=function(i){for(var t=0;t<this.texts.length;t++)this.textMeasures.push({width:i.textMeasure.measureTextWidth(this.texts[t],this.contexts[t].attributeState),length:this.texts[t].length})},e.prototype.put=function(i,t){var r,n,s,a,o=[],l=[],f=[],u=this.originX,h=this.originY,c=u,v=u;for(r=0;r<this.textNodes.length;r++){n=this.textNodes[r],s=this.contexts[r],a=this.textMeasures[r]||{width:i.textMeasure.measureTextWidth(this.texts[r],this.contexts[r].attributeState),length:this.texts[r].length};var g=u,d=h;if(n.nodeName!=="#text"&&!o.includes(n)){o.push(n);var y=e.resolveRelativePositionAttribute(n,"dx");y!==null&&(g+=H(y,s.attributeState.fontSize));var m=e.resolveRelativePositionAttribute(n,"dy");m!==null&&(d+=H(m,s.attributeState.fontSize))}l[r]=g,f[r]=d,u=g+a.width+a.length*t,h=d,c=Math.min(c,g),v=Math.max(v,u)}var x=0;switch(this.textAnchor){case"start":x=0;break;case"middle":x=(v-c)/2;break;case"end":x=v-c}for(r=0;r<this.textNodes.length;r++)if(n=this.textNodes[r],s=this.contexts[r],n.nodeName==="#text"||s.attributeState.visibility!=="hidden"){i.pdf.saveGraphicsState(),qt(s,i,n);var S=s.attributeState.alignmentBaseline,k=ye(s.attributeState);i.pdf.text(this.texts[r],l[r]-x,f[r],{baseline:oe(S),angle:i.transform,renderingMode:k==="fill"?void 0:k,charSpace:t===0?void 0:t}),i.pdf.restoreGraphicsState()}return[u,h]},e.resolveRelativePositionAttribute=function(i,t){for(var r,n=i;n&&Y(n,"tspan");){if(n.hasAttribute(t))return n.getAttribute(t);if(((r=i.parentElement)===null||r===void 0?void 0:r.firstChild)!==i)break;n=n.parentElement}return null},e}(),Mr=function(e){function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.boundingBox=[],t}return M(i,e),i.prototype.processTSpans=function(t,r,n,s,a,o){for(var l=n.pdf.getFontSize(),f=n.attributeState.xmlSpace==="preserve"||n.attributeState.whiteSpace==="pre",u=!0,h=!1,c=0;c<r.childNodes.length;c++){var v=r.childNodes[c];if(v.textContent){var g=v.textContent;if(v.nodeName==="#text"){var d=Zt(g);d=te(d),f||(d=ee(d),u&&d.match(/^\s/)&&(h=!0),d.match(/[^\s]/)&&(u=!1),o.prevText.match(/\s$/)&&(d=d.replace(/^\s+/,"")));var y=re(r,d,n);a.add(r,y,n),o.prevText=g,o.prevContext=n}else if(!Y(v,"title")){if(Y(v,"tspan")){var m=v,x=m.getAttribute("x");if(x!==null){var S=H(x,l);a=new Pt(this,p(m,n.styleSheets,"text-anchor")||n.attributeState.textAnchor,S,0),s.push({type:"y",chunk:a})}var k=m.getAttribute("y");if(k!==null){var b=H(k,l);a=new Pt(this,p(m,n.styleSheets,"text-anchor")||n.attributeState.textAnchor,0,b),s.push({type:"x",chunk:a})}var w=n.clone();Dt(w,t,m),this.processTSpans(t,m,w,s,a,o)}}}}return h},i.prototype.renderCore=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o,l,f,u,h,c,v,g,d,y,m,x,S,k,b,w,T,I,L;return F(this,function(B){if(t.pdf.saveGraphicsState(),r=0,n=0,s=1,a=t.pdf.getFontSize(),o=H(this.element.getAttribute("x"),a),l=H(this.element.getAttribute("y"),a),f=H(this.element.getAttribute("dx"),a),u=H(this.element.getAttribute("dy"),a),h=parseFloat(this.element.getAttribute("textLength")||"0"),c=t.attributeState.visibility,this.element.childElementCount===0)v=this.element.textContent||"",g=function(N,R){return N=te(N=Zt(N)),R.xmlSpace==="preserve"||R.whiteSpace==="pre"||(N=ee(N=N.trim())),N}(v,t.attributeState),d=re(this.element,g,t),r=t.textMeasure.getTextOffset(d,t.attributeState),h>0&&(y=t.textMeasure.measureTextWidth(d,t.attributeState),!(t.attributeState.xmlSpace==="preserve"||t.attributeState.whiteSpace==="pre")&&v.match(/^\s/)&&(s=0),n=(h-y)/(d.length-s)||0),c==="visible"&&(m=t.attributeState.alignmentBaseline,x=ye(t.attributeState),t.pdf.text(d,o+f-r,l+u,{baseline:oe(m),angle:t.transform,renderingMode:x==="fill"?void 0:x,charSpace:n===0?void 0:n}),this.boundingBox=[o+f-r,l+u+.1*a,t.textMeasure.measureTextWidth(d,t.attributeState),a]);else{for(S=[],k=new Pt(this,t.attributeState.textAnchor,o+f,l+u),S.push({type:"",chunk:k}),b=this.processTSpans(this,this.element,t,S,k,{prevText:" ",prevContext:t}),s=b?0:1,w=!0,T=S.length-1;T>=0;T--)w&&(w=S[T].chunk.rightTrimText());h>0&&(I=0,L=0,S.forEach(function(N){var R=N.chunk;R.measureText(t),R.textMeasures.forEach(function(j){var G=j.width,ct=j.length;I+=G,L+=ct})}),n=(h-I)/(L-s)),S.reduce(function(N,R){var j=R.type,G=R.chunk;return j==="x"?G.setX(N[0]):j==="y"&&G.setY(N[1]),G.put(t,n)},[0,0])}return t.pdf.restoreGraphicsState(),[2]})})},i.prototype.isVisible=function(t,r){return Q(this,t,r)},i.prototype.getBoundingBoxCore=function(t){return this.boundingBox.length>0?this.boundingBox:lt(this.element,t)},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i}(St),Cr=function(e){function i(t,r){return e.call(this,!0,t,r)||this}return M(i,e),i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.prototype.isVisible=function(t,r){return W(this,t,r)},i.prototype.getPath=function(t){var r,n,s=new cr(p(this.element,t.styleSheets,"d")||"").unshort().unarc().abs(),a=new rt;return s.iterate(function(o){switch(o[0]){case"M":a.moveTo(o[1],o[2]);break;case"L":a.lineTo(o[1],o[2]);break;case"H":a.lineTo(o[1],n);break;case"V":a.lineTo(r,o[1]);break;case"C":a.curveTo(o[1],o[2],o[3],o[4],o[5],o[6]);break;case"Q":var l=Kt([r,n],[o[1],o[2]]),f=Kt([o[3],o[4]],[o[1],o[2]]);a.curveTo(l[0],l[1],f[0],f[1],o[3],o[4]);break;case"Z":a.close()}switch(o[0]){case"M":case"L":r=o[1],n=o[2];break;case"H":r=o[1];break;case"V":n=o[1];break;case"C":r=o[5],n=o[6];break;case"Q":r=o[3],n=o[4]}}),a},i}(ft),Fr=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,((?:.|\s)*)$/i,Ar=function(e){function i(t,r){var n=e.call(this,t,r)||this;return n.imageLoadingPromise=null,n.imageUrl=n.element.getAttribute("xlink:href")||n.element.getAttribute("href"),n.imageUrl&&(n.imageLoadingPromise=i.fetchImageData(n.imageUrl)),n}return M(i,e),i.prototype.renderCore=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o,l,f,u,h,c,v,g,d,y,m,x,S,k;return F(this,function(b){switch(b.label){case 0:return this.imageLoadingPromise?(t.pdf.setCurrentTransformationMatrix(t.transform),r=parseFloat(p(this.element,t.styleSheets,"width")||"0"),n=parseFloat(p(this.element,t.styleSheets,"height")||"0"),s=parseFloat(p(this.element,t.styleSheets,"x")||"0"),a=parseFloat(p(this.element,t.styleSheets,"y")||"0"),!isFinite(r)||r<=0||!isFinite(n)||n<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return o=b.sent(),l=o.data,(f=o.format).indexOf("svg")!==0?[3,3]:(u=new DOMParser,h=u.parseFromString(l,"image/svg+xml").firstElementChild,(!(c=this.element.getAttribute("preserveAspectRatio"))||c.indexOf("defer")<0||!h.getAttribute("preserveAspectRatio"))&&h.setAttribute("preserveAspectRatio",c||""),h.setAttribute("x",String(s)),h.setAttribute("y",String(a)),h.setAttribute("width",String(r)),h.setAttribute("height",String(n)),[4,Ht(h,v={}).render(new $(t.pdf,{refsHandler:new se(v),styleSheets:t.styleSheets,viewport:new wt(r,n),svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure}))]);case 2:return b.sent(),[2];case 3:g="data:image/".concat(f,";base64,").concat(btoa(l)),b.label=4;case 4:return b.trys.push([4,6,,7]),[4,i.getImageDimensions(g)];case 5:return d=b.sent(),y=d[0],m=d[1],x=[0,0,y,m],S=ut(this.element,x,s,a,r,n,t),t.pdf.setCurrentTransformationMatrix(S),t.pdf.addImage(g,"",0,0,y,m),[3,7];case 6:return k=b.sent(),typeof console=="object"&&console.warn&&console.warn("Could not load image ".concat(this.imageUrl,`. 
`).concat(k)),[3,7];case 7:return[2]}})})},i.prototype.getBoundingBoxCore=function(t){return lt(this.element,t)},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.prototype.isVisible=function(t,r){return W(this,t,r)},i.fetchImageData=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o;return F(this,function(l){switch(l.label){case 0:if(!(s=t.match(Fr)))return[3,1];if(a=s[2],(o=a.split("/"))[0]!=="image")throw new Error("Unsupported image URL: ".concat(t));return n=o[1],r=s[5],s[4]==="base64"?(r=r.replace(/\s/g,""),r=atob(r)):r=decodeURIComponent(r),[3,3];case 1:return[4,i.fetchImage(t)];case 2:r=l.sent(),n=t.substring(t.lastIndexOf(".")+1),l.label=3;case 3:return[2,{data:r,format:n}]}})})},i.fetchImage=function(t){return new Promise(function(r,n){var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(){if(s.status!==200)throw new Error("Error ".concat(s.status,": Failed to load image '").concat(t,"'"));for(var a=new Uint8Array(s.response),o="",l=0;l<a.length;l++)o+=String.fromCharCode(a[l]);r(o)},s.onerror=n,s.onabort=n,s.send(null)})},i.getMimeType=function(t){switch(t=t.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/".concat(t)}},i.getImageDimensions=function(t){return new Promise(function(r,n){var s=new Image;s.onload=function(){r([s.width,s.height])},s.onerror=n,s.src=t})},i}(St),xe=function(e){function i(t,r,n){var s=e.call(this,!0,r,n)||this;return s.closed=t,s}return M(i,e),i.prototype.getPath=function(t){if(!this.element.hasAttribute("points")||this.element.getAttribute("points")==="")return null;var r=i.parsePointsString(this.element.getAttribute("points")),n=new rt;if(r.length<1)return n;n.moveTo(r[0][0],r[0][1]);for(var s=1;s<r.length;s++)n.lineTo(r[s][0],r[s][1]);return this.closed&&n.close(),n},i.prototype.isVisible=function(t,r){return W(this,t,r)},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.parsePointsString=function(t){for(var r=_(t),n=[],s=0;s<r.length-1;s+=2){var a=r[s],o=r[s+1];n.push([a,o])}return n},i}(ft),Tr=function(e){function i(t,r){return e.call(this,!0,t,r)||this}return M(i,e),i}(xe),Pr=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.render=function(t){return Promise.resolve()},i.prototype.getBoundingBoxCore=function(t){return[0,0,0,0]},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i.prototype.isVisible=function(t,r){return W(this,t,r)},i}(Ot),Er=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.apply=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o,l;return F(this,function(f){switch(f.label){case 0:r=this.computeNodeTransform(t),n=this.getBoundingBox(t),t.pdf.beginFormObject(n[0],n[1],n[2],n[3],r),s=et.getContextColors(t),function(u){var h=u.attributeState,c=u.pdf,v=1,g=1;v*=h.fillOpacity,v*=h.opacity,h.fill instanceof E&&h.fill.color.a!==void 0&&(v*=h.fill.color.a),g*=h.strokeOpacity,g*=h.opacity,h.stroke instanceof E&&h.stroke.color.a!==void 0&&(g*=h.stroke.color.a);var d,y={};if(y.opacity=v,y["stroke-opacity"]=g,c.setGState(new It(y)),h.fill&&h.fill instanceof E&&h.fill.color.ok?c.setFillColor(h.fill.color.r,h.fill.color.g,h.fill.color.b):c.setFillColor(0,0,0),c.setLineWidth(h.strokeWidth),h.stroke instanceof E?c.setDrawColor(h.stroke.color.r,h.stroke.color.g,h.stroke.color.b):c.setDrawColor(0,0,0),c.setLineCap(h.strokeLinecap),c.setLineJoin(h.strokeLinejoin),h.strokeDasharray?c.setLineDashPattern(h.strokeDasharray,h.strokeDashoffset):c.setLineDashPattern([],0),c.setLineMiterLimit(h.strokeMiterlimit),d=V.hasOwnProperty(h.fontFamily)?V[h.fontFamily]:h.fontFamily,h.fill&&h.fill instanceof E&&h.fill.color.ok){var m=h.fill.color;c.setTextColor(m.r,m.g,m.b)}else c.setTextColor(0,0,0);var x="";h.fontWeight==="bold"&&(x="bold"),h.fontStyle==="italic"&&(x+="italic"),x===""&&(x="normal"),d!==void 0||x!==void 0?(d===void 0&&(d=V.hasOwnProperty(h.fontFamily)?V[h.fontFamily]:h.fontFamily),c.setFont(d,x)):c.setFont("helvetica",x),c.setFontSize(h.fontSize*c.internal.scaleFactor)}(a=new $(t.pdf,{refsHandler:t.refsHandler,styleSheets:t.styleSheets,viewport:t.viewport,svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure,attributeState:Object.assign(et.default(),s)})),o=0,l=this.children,f.label=1;case 1:return o<l.length?[4,l[o].render(a)]:[3,4];case 2:f.sent(),f.label=3;case 3:return o++,[3,1];case 4:return t.pdf.endFormObject(a.refsHandler.generateKey(this.element.getAttribute("id"),s)),[2]}})})},i.prototype.getBoundingBoxCore=function(t){var r,n=this.element.getAttribute("viewBox");return n&&(r=_(n)),[r&&r[0]||0,r&&r[1]||0,r&&r[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),r&&r[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},i.prototype.computeNodeTransformCore=function(t){var r,n=parseFloat(this.element.getAttribute("refX")||"0"),s=parseFloat(this.element.getAttribute("refY")||"0"),a=this.element.getAttribute("viewBox");if(a){var o=_(a);r=ut(this.element,o,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),t,!0),r=t.pdf.matrixMult(t.pdf.Matrix(1,0,0,1,-n,-s),r)}else r=t.pdf.Matrix(1,0,0,1,-n,-s);return r},i.prototype.isVisible=function(t,r){return Q(this,t,r)},i}(ht),Br=function(e){function i(t,r){return e.call(this,t,r)||this}return M(i,e),i.prototype.getR=function(t){var r;return(r=this.r)!==null&&r!==void 0?r:this.r=parseFloat(p(this.element,t.styleSheets,"r")||"0")},i.prototype.getRx=function(t){return this.getR(t)},i.prototype.getRy=function(t){return this.getR(t)},i}(me),Nr=function(e){function i(t,r){return e.call(this,!1,t,r)||this}return M(i,e),i}(xe),be=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.renderCore=function(t){return C(this,void 0,void 0,function(){var r,n;return F(this,function(s){switch(s.label){case 0:r=0,n=this.children,s.label=1;case 1:return r<n.length?[4,n[r].render(t)]:[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},i.prototype.getBoundingBoxCore=function(t){return Rt(t,this)},i}(ge),Ir=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.isVisible=function(t,r){return Q(this,t,r)},i.prototype.render=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o;return F(this,function(l){switch(l.label){case 0:return this.isVisible(t.attributeState.visibility!=="hidden",t)?(r=this.getX(t),n=this.getY(t),s=this.getWidth(t),a=this.getHeight(t),t.pdf.saveGraphicsState(),o=t.transform,this.element.hasAttribute("transform")&&(o=t.pdf.matrixMult(bt(this.element.getAttribute("transform"),t),o)),t.pdf.setCurrentTransformationMatrix(o),t.withinUse||p(this.element,t.styleSheets,"overflow")==="visible"||t.pdf.rect(r,n,s,a).clip().discardPath(),[4,e.prototype.render.call(this,t.clone({transform:t.pdf.unitMatrix,viewport:t.withinUse?t.viewport:new wt(s,a)}))]):[2];case 1:return l.sent(),t.pdf.restoreGraphicsState(),[2]}})})},i.prototype.computeNodeTransform=function(t){return this.computeNodeTransformCore(t)},i.prototype.computeNodeTransformCore=function(t){if(t.withinUse)return t.pdf.unitMatrix;var r,n=this.getX(t),s=this.getY(t),a=this.getViewBox();if(a){var o=this.getWidth(t),l=this.getHeight(t);r=ut(this.element,a,n,s,o,l,t)}else r=t.pdf.Matrix(1,0,0,1,n,s);return r},i.prototype.getWidth=function(t){if(this.width!==void 0)return this.width;var r,n,s=t.svg2pdfParameters;if(this.isOutermostSvg(t))if(s.width!=null)r=s.width;else if(n=p(this.element,t.styleSheets,"width"))r=parseFloat(n);else{var a=this.getViewBox();if(a&&(s.height!=null||p(this.element,t.styleSheets,"height"))){var o=a[2]/a[3];r=this.getHeight(t)*o}else r=Math.min(300,t.viewport.width,2*t.viewport.height)}else r=(n=p(this.element,t.styleSheets,"width"))?parseFloat(n):t.viewport.width;return this.width=r},i.prototype.getHeight=function(t){if(this.height!==void 0)return this.height;var r,n,s=t.svg2pdfParameters;if(this.isOutermostSvg(t))if(s.height!=null)r=s.height;else if(n=p(this.element,t.styleSheets,"height"))r=parseFloat(n);else{var a=this.getViewBox();if(a){var o=a[2]/a[3];r=this.getWidth(t)/o}else r=Math.min(150,t.viewport.width/2,t.viewport.height)}else r=(n=p(this.element,t.styleSheets,"height"))?parseFloat(n):t.viewport.height;return this.height=r},i.prototype.getX=function(t){if(this.x!==void 0)return this.x;if(this.isOutermostSvg(t))return this.x=0;var r=p(this.element,t.styleSheets,"x");return this.x=r?parseFloat(r):0},i.prototype.getY=function(t){if(this.y!==void 0)return this.y;if(this.isOutermostSvg(t))return this.y=0;var r=p(this.element,t.styleSheets,"y");return this.y=r?parseFloat(r):0},i.prototype.getViewBox=function(){if(this.viewBox!==void 0)return this.viewBox;var t=this.element.getAttribute("viewBox");return this.viewBox=t?_(t):void 0},i.prototype.isOutermostSvg=function(t){return t.svg2pdfParameters.element===this.element},i}(be),Se=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.isVisible=function(t,r){return Q(this,t,r)},i.prototype.computeNodeTransformCore=function(t){return t.pdf.unitMatrix},i}(be),Lr=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.renderCore=function(t){return C(this,void 0,void 0,function(){var r,n,s,a;return F(this,function(o){switch(o.label){case 0:return[4,e.prototype.renderCore.call(this,t)];case 1:return o.sent(),(r=p(this.element,t.styleSheets,"href"))&&(n=this.getBoundingBox(t),s=t.pdf.internal.scaleFactor,a=t.pdf.internal.pageSize.getHeight(),t.pdf.link(s*(n[0]*t.transform.sx+t.transform.tx),a-s*(n[1]*t.transform.sy+t.transform.ty),s*n[2],s*n[3],{url:r})),[2]}})})},i}(Se),_r=function(e){function i(){return e!==null&&e.apply(this,arguments)||this}return M(i,e),i.prototype.apply=function(t){return C(this,void 0,void 0,function(){var r,n,s,a,o;return F(this,function(l){switch(l.label){case 0:if(!this.isVisible(!0,t))return[2];r=t.pdf.matrixMult(this.computeNodeTransform(t),t.transform),t.pdf.setCurrentTransformationMatrix(r),n=0,s=this.children,l.label=1;case 1:return n<s.length?[4,s[n].render(new $(t.pdf,{refsHandler:t.refsHandler,styleSheets:t.styleSheets,viewport:t.viewport,withinClipPath:!0,svg2pdfParameters:t.svg2pdfParameters,textMeasure:t.textMeasure}))]:[3,4];case 2:l.sent(),l.label=3;case 3:return n++,[3,1];case 4:return a=this.children.length>0&&!!p(this.children[0].element,t.styleSheets,"clip-rule"),o=a?this.getClipRuleAttr(this.children[0].element,t.styleSheets):this.getClipRuleAttr(this.element,t.styleSheets),t.pdf.clip(o).discardPath(),t.pdf.setCurrentTransformationMatrix(r.inversed()),[2]}})})},i.prototype.getBoundingBoxCore=function(t){return Rt(t,this)},i.prototype.isVisible=function(t,r){return Q(this,t,r)},i.prototype.getClipRuleAttr=function(t,r){return p(t,r,"clip-rule")==="evenodd"?"evenodd":void 0},i}(ht);function Ht(e,i){var t,r=[];switch(function(s,a){for(var o=[],l=0;l<s.childNodes.length;l++){var f=s.childNodes[l];f.nodeName.charAt(0)!=="#"&&o.push(f)}for(l=0;l<o.length;l++)a(l,o[l])}(e,function(s,a){return r.push(Ht(a,i))}),e.tagName.toLowerCase()){case"a":t=new Lr(e,r);break;case"g":t=new Se(e,r);break;case"circle":t=new Br(e,r);break;case"clippath":t=new _r(e,r);break;case"ellipse":t=new kr(e,r);break;case"lineargradient":t=new he(e,r);break;case"image":t=new Ar(e,r);break;case"line":t=new br(e,r);break;case"marker":t=new Er(e,r);break;case"path":t=new Cr(e,r);break;case"pattern":t=new ce(e,r);break;case"polygon":t=new Tr(e,r);break;case"polyline":t=new Nr(e,r);break;case"radialgradient":t=new fe(e,r);break;case"rect":t=new wr(e,r);break;case"svg":t=new Ir(e,r);break;case"symbol":t=new ve(e,r);break;case"text":t=new Mr(e,r);break;case"use":t=new Sr(e,r);break;default:t=new Pr(e,r)}if(i!=null&&t.element.hasAttribute("id")){var n=ne(t.element.id,{isIdentifier:!0});i[n]=i[n]||t}return t.children.forEach(function(s){return s.setParent(t)}),t}var Rr=function(){function e(i,t){this.rootSvg=i,this.loadExternalSheets=t,this.styleSheets=[]}return e.prototype.load=function(){return C(this,void 0,void 0,function(){var i;return F(this,function(t){switch(t.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return i=t.sent(),this.parseCssSheets(i),[2]}})})},e.prototype.collectStyleSheetTexts=function(){return C(this,void 0,void 0,function(){var i,t,r,n,s;return F(this,function(a){switch(a.label){case 0:if(i=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(n=0;n<this.rootSvg.ownerDocument.childNodes.length;n++)(t=this.rootSvg.ownerDocument.childNodes[n]).nodeName==="xml-stylesheet"&&typeof t.data=="string"&&i.push(e.loadSheet(t.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(r=this.rootSvg.querySelectorAll("style,link"),n=0;n<r.length;n++)Y(s=r[n],"style")?i.push(s.textContent):this.loadExternalSheets&&Y(s,"link")&&s.getAttribute("rel")==="stylesheet"&&s.hasAttribute("href")&&i.push(e.loadSheet(s.getAttribute("href")));return[4,Promise.all(i)];case 1:return[2,a.sent().filter(function(o){return o!==null})]}})})},e.prototype.parseCssSheets=function(i){for(var t=document.implementation.createHTMLDocument(""),r=0,n=i;r<n.length;r++){var s=n[r],a=t.createElement("style");a.textContent=s,t.body.appendChild(a);var o=a.sheet;if(o instanceof CSSStyleSheet){for(var l=o.cssRules.length-1;l>=0;l--){var f=o.cssRules[l];if(f instanceof CSSStyleRule){var u=f;if(u.selectorText.indexOf(",")>=0){o.deleteRule(l);for(var h=u.cssText.substring(u.selectorText.length),c=e.splitSelectorAtCommas(u.selectorText),v=0;v<c.length;v++)o.insertRule(c[v]+h,l+v)}}else o.deleteRule(l)}this.styleSheets.push(o)}}},e.splitSelectorAtCommas=function(i){for(var t,r=/,|["']/g,n=/[^\\]["]/g,s=/[^\\][']/g,a=[],o="initial",l=-1,f=n,u=0;u<i.length;)switch(o){case"initial":r.lastIndex=u,(t=r.exec(i))?(t[0]===","?(a.push(i.substring(l+1,r.lastIndex-1).trim()),l=r.lastIndex-1):(o="withinQuotes",f=t[0]==='"'?n:s),u=r.lastIndex):(a.push(i.substring(l+1).trim()),u=i.length);break;case"withinQuotes":f.lastIndex=u,(t=f.exec(i))&&(u=f.lastIndex,o="initial")}return a},e.loadSheet=function(i){return new Promise(function(t,r){var n=new XMLHttpRequest;n.open("GET",i,!0),n.responseType="text",n.onload=function(){n.status!==200&&r(new Error("Error ".concat(n.status,": Failed to load '").concat(i,"'"))),t(n.responseText)},n.onerror=r,n.onabort=r,n.send(null)}).catch(function(){return null})},e.prototype.getPropertyValue=function(i,t){for(var r=[],n=0,s=this.styleSheets;n<s.length;n++)for(var a=s[n],o=0;o<a.cssRules.length;o++){var l=a.cssRules[o];l.style.getPropertyValue(t)&&i.matches(l.selectorText)&&r.push(l)}if(r.length!==0)return r.reduce(function(f,u){return c=u,((v=(h=f).style.getPropertyPriority(t))!==c.style.getPropertyPriority(t)?v==="important"?1:-1:pr(h.selectorText,c.selectorText))===1?f:u;var h,c,v}).style.getPropertyValue(t)||void 0},e}(),Or=function(){function e(){this.measureMethods={}}return e.prototype.getTextOffset=function(i,t){var r=t.textAnchor;if(r==="start")return 0;var n=this.measureTextWidth(i,t),s=0;switch(r){case"end":s=n;break;case"middle":s=n/2}return s},e.prototype.measureTextWidth=function(i,t){if(i.length===0)return 0;var r=t.fontFamily;return this.getMeasureFunction(r).call(this,i,t.fontFamily,t.fontSize+"px",t.fontStyle,t.fontWeight)},e.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS(Jt,"text");var i=document.createElementNS(Jt,"svg");i.appendChild(this.textMeasuringTextElement),i.style.setProperty("position","absolute"),i.style.setProperty("visibility","hidden"),document.body.appendChild(i)}return this.textMeasuringTextElement},e.prototype.canvasTextMeasure=function(i,t,r,n,s){var a=document.createElement("canvas").getContext("2d");return a!=null?(a.font=[n,s,r,t].join(" "),a.measureText(i).width):0},e.prototype.svgTextMeasure=function(i,t,r,n,s,a){a===void 0&&(a=this.getMeasurementTextNode());var o=a;return o.setAttribute("font-family",t),o.setAttribute("font-size",r),o.setAttribute("font-style",n),o.setAttribute("font-weight",s),o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),o.textContent=i,o.getBBox().width},e.prototype.getMeasureFunction=function(i){var t=this.measureMethods[i];if(!t){var r="16px",n="normal",s="normal",a=this.canvasTextMeasure(e.testString,i,r,n,s),o=this.svgTextMeasure(e.testString,i,r,n,s);t=Math.abs(a-o)<e.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[i]=t}return t},e.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var i=this.textMeasuringTextElement.parentNode;i&&document.body.removeChild(i),this.textMeasuringTextElement=void 0}},e.testString=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!"$%&/()=?'\\+*-_.:,;^}][{#~|<>`,e.epsilon=.1,e}();function Dr(e,i){return C(this,arguments,void 0,function(t,r,n){var s,a,o,l,f,u,h,c,v,g,d,y,m,x;return n===void 0&&(n={}),F(this,function(S){switch(S.label){case 0:return s=(y=n.x)!==null&&y!==void 0?y:0,a=(m=n.y)!==null&&m!==void 0?m:0,o=(x=n.loadExternalStyleSheets)!==null&&x!==void 0&&x,f=new se(l={}),[4,(u=new Rr(t,o)).load()];case 1:return S.sent(),h=new wt(r.internal.pageSize.getWidth(),r.internal.pageSize.getHeight()),c=xt(xt({},n),{element:t}),v=new Or,g=new $(r,{refsHandler:f,styleSheets:u,viewport:h,svg2pdfParameters:c,textMeasure:v}),r.advancedAPI(),r.saveGraphicsState(),r.setCurrentTransformationMatrix(r.Matrix(1,0,0,1,s,a)),r.setLineWidth(g.attributeState.strokeWidth),d=g.attributeState.fill.color,r.setFillColor(d.r,d.g,d.b),r.setFont(g.attributeState.fontFamily),r.setFontSize(g.attributeState.fontSize*r.internal.scaleFactor),[4,Ht(t,l).render(g)];case 2:return S.sent(),r.restoreGraphicsState(),r.compatAPI(),g.textMeasure.cleanupTextMeasuring(),[2,r]}})})}ie.API.svg=function(e,i){return i===void 0&&(i={}),Dr(e,this,i)};export{Dr as svg2pdf};
//# sourceMappingURL=svg2pdf.es.min-d4bac280.js.map
